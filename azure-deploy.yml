# Azure App Service Deployment Configuration
# This file contains additional deployment settings for Azure App Service

# App Service Configuration
app_service:
  name: elch-hbfga9d3hpfke4h2
  resource_group: your-resource-group
  location: centralindia
  sku: B1  # Basic tier
  
# Runtime Configuration
runtime:
  python_version: "3.11"
  startup_file: "startup.sh"
  
# Environment Variables for Azure App Service
environment_variables:
  PYTHONUNBUFFERED: "1"
  PYTHONDONTWRITEBYTECODE: "1"
  PYTHONOPTIMIZE: "2"
  ENVIRONMENT: "production"
  PORT: "8000"
  
# Application Settings
application_settings:
  # Database settings
  DATABASE_URL: "sqlite:///./database.db"
  
  # Security settings
  SESSION_SECRET: "your-session-secret-key"
  JWT_SECRET_KEY: "your-jwt-secret-key"
  
  # API Keys (set these in Azure Portal App Settings)
  GOOGLE_CLIENT_ID: "@Microsoft.KeyVault(SecretUri=https://your-keyvault.vault.azure.net/secrets/google-client-id/)"
  GOOGLE_CLIENT_SECRET: "@Microsoft.KeyVault(SecretUri=https://your-keyvault.vault.azure.net/secrets/google-client-secret/)"
  OPENAI_API_KEY: "@Microsoft.KeyVault(SecretUri=https://your-keyvault.vault.azure.net/secrets/openai-api-key/)"
  
# Deployment Configuration
deployment:
  # Files to exclude from deployment
  exclude:
    - ".git/**"
    - "venv/**"
    - "env/**"
    - "tests/**"
    - "__pycache__/**"
    - "*.pyc"
    - "*.log"
    - ".gitignore"
    - "README.md"
    
  # Files to include
  include:
    - "**/*.py"
    - "requirements*.txt"
    - "*.yml"
    - "*.yaml"
    - "*.json"
    - "*.sh"
    - "web.config"
    - "startup.sh"
    
# Health Check Configuration
health_check:
  path: "/healthz"
  interval: 30
  timeout: 10
  retries: 3
  
# Scaling Configuration
scaling:
  min_instances: 1
  max_instances: 3
  cpu_threshold: 70
  memory_threshold: 80
  
# Logging Configuration
logging:
  level: "INFO"
  application_logs: true
  web_server_logs: true
  detailed_error_messages: false
  failed_request_tracing: true
  
# CORS Configuration
cors:
  allowed_origins:
    - "https://elch-hbfga9d3hpfke4h2.azurewebsites.net"
    - "https://your-frontend-domain.com"
  allowed_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allowed_headers:
    - "Content-Type"
    - "Authorization"
    - "X-Requested-With"